tinymce.PluginManager.add('hamafza', function(editor, url) {    /*editor.addMenuItem('hamafza_index', {        text: "فهرست",        onclick: function() {            editor.windowManager.open({                title: 'فهرست',                url: Baseurl + 'editor/modals/graph',                width: 400,                height: 300,                buttons: [                    {text: "Insert", onclick: function() {                            var b = editor.windowManager.getWindows()[0];                            var quran = b.getContentWindow().document.getElementById("quran").value;                            var sura = b.getContentWindow().document.getElementById("sura").value;                            var aya = b.getContentWindow().document.getElementById("aya").value;                            var theResponse = '<p class="qurans">quran_' + quran + '-' + sura + '-' + aya + '</p>';                            editor.insertContent(theResponse);                            b.close();                        }                    }                    , {                        text: 'Close',                        onclick: 'close'                    }                ]            });        }    });*/    editor.addMenuItem('hamafza_form', {        text: "فرم",        onclick: function() {            editor.windowManager.open({                title: 'فرم',                url: Baseurl + 'editor/modals/form',                width: 400,                height: 300,                buttons: [                    {style: 'background-color: #6391C5; color: white;', text: "Insert", onclick: function() {                            var b = editor.windowManager.getWindows()[0];                            var skillsSelect = b.getContentWindow().document.getElementById("forms");                            var formname = skillsSelect.options[skillsSelect.selectedIndex].text;                            var form = b.getContentWindow().document.getElementById("forms").value;                            var show = b.getContentWindow().document.getElementById("sel").value;                            var showtext = b.getContentWindow().document.getElementById("showtext").value;                            var theResponse = '<p id="FormInPage" class="' + form + '_' + show + '_' + showtext + '" >فرم: ' + formname + ' </p>';                            editor.insertContent(theResponse),                                    b.close()                        }                    }                    /*, {                        text: 'Close',                        onclick: 'close'                    }*/                ]            });        }    });    editor.addMenuItem('hamafza_dashboard', {        text: "جدول و نمودار",        onclick: function() {            editor.windowManager.open({                title: 'جدول و نمودار',                url: Baseurl + 'editor/modals/dashboard',                width: 800,                height: 400,                buttons: [                    {style: 'background-color: #6391C5; color: white;', text: "Insert", onclick: function() {                            var choice = 0;                            var Rows='';                            var b = editor.windowManager.getWindows()[0];                            var showtype = b.getContentWindow().document.getElementById("selectMe").value;                            var title = b.getContentWindow().document.getElementById("name-diagram").value;                            var w = b.getContentWindow().document.getElementById("width-diagram").value;                                                        var ytitle ='';                            if (showtype == 'option1')                                showtype = 'table';                            var exell = b.getContentWindow().document.getElementById("choice-exell-form").checked;                            var form = b.getContentWindow().document.getElementById("choice-form").checked;                            if (exell){                               type = 1;                            }                            else if (form) {                                type = 2;                                choice = b.getContentWindow().document.getElementById("Forms").value;                                var x = b.getContentWindow().document.getElementById("jadval_col2");                                var y = b.getContentWindow().document.getElementById("jadval_row2");                                var cols = "";                                var i;                                for (i = 0; i < x.length; i++) {                                    cols = cols + "," + x.options[i].value;                                }                                var Xcols = cols;                                var ycols = "";                                var i;                                for (i = 0; i < y.length; i++) {                                    ycols = ycols + "," + y.options[i].value;                                }                                var Ycols = ycols;                            }                            var theResponse = '<p class="DashboardClass ' + showtype + '_' + type + '_' + choice + '_' + Xcols + '_' + Ycols +'_'+ Rows +'_'+ytitle+'_'+w+'">داشبورد: ' + title + '</p>';                            editor.insertContent(theResponse);                            b.close();                        }                    }                    /*, {                        text: 'Close',                        onclick: 'close'                    }*/                ]            });        }    });    editor.addMenuItem('OtherHamafza', {        text: "آیات قرآن کریم",        onclick: function() {            editor.windowManager.open({                title: ' آیات قرآن کریم ',                url: Baseurl + 'editor/modals/selectquran',                width: 400,                height: 300,                buttons: [                    {style: 'background-color: #6391C5; color: white;', text: "Insert", onclick: function() {                            var b = editor.windowManager.getWindows()[0];                            var quran = b.getContentWindow().document.getElementById("quran").value;                            var sura = b.getContentWindow().document.getElementById("sura").value;                            var aya = b.getContentWindow().document.getElementById("aya").value;                            if (aya == '')                                aya = '0';                            var theResponse = '<p class="qurans">quran_' + quran + '-' + sura + '-' + aya + '</p>';                            editor.insertContent(theResponse);                            b.close();                        }}/*                    , {                        text: 'Close',                        onclick: 'close'                    }*/]            });        }    });    /*editor.addMenuItem('Hamafza_graph', {text: " گراف",        onclick: function() {            editor.windowManager.open({                title: ' گراف ',                url: Baseurl + 'editor/modals/graph',                width: 500,                height: 150,                buttons: [                    {text: "Insert", onclick: function() {                            var b = editor.windowManager.getWindows()[0];                            var g = b.getContentWindow().document.getElementById("Retval").value;                            var d = b.getContentWindow().document.getElementById("Graphno").value;                            var theResponse = '<p id="contexts_graph" class="' + g + '_' + d + '">گراف</p>';                            editor.insertContent(theResponse);                            b.close();                        }}                    , {                        text: 'Close',                        onclick: 'close'                    }]            });        }    });*/    editor.addMenuItem('Hamafza_subject', {text: "متن",        onclick: function() {            editor.windowManager.open({                title: 'متن',                url: Baseurl + 'editor/modals/content',                width: 500,                height: 150,                buttons: [                    {style: 'background-color: #6391C5; color: white;', text: "Insert", onclick: function() {                            var b = editor.windowManager.getWindows()[0];                            var g = b.getContentWindow().document.getElementById("Retval").value;                            var c = b.getContentWindow().document.getElementById("makhazs").value;                            var e = b.getContentWindow().document.getElementById("giumes").value;                            var theResponse = '<p id="insert_mohtava" class="' + g + '_' + c + '_' + e + '">INSCON_' + g + '_' + c + '_' + e + '_INSCON</p>';                            editor.insertContent(theResponse);                            b.close();                        }                    }                    /*, {                        text: 'Close',                        onclick: 'close'                    }*/]            });        }    });    editor.addMenuItem('Hamafza_news', {text: "اطلاعیه ها",        onclick: function() {            editor.windowManager.open({                title: 'اطلاعیه ها',                url: Baseurl + 'editor/modals/alerts',                width: 500,                height: 150,                buttons: [                    {style: 'background-color: #6391C5; color: white;', text: "Insert", onclick: function() {                            var c = '';                            var b = editor.windowManager.getWindows()[0];                            var g = b.getContentWindow().document.getElementById("alert");                            var f = b.getContentWindow().document.getElementById("alert").value;                            if (g.selectedIndex == -1)                                c = '';                            else                                c = g.options[g.selectedIndex].text;                            var theResponse = '<p id="Alerts" class="Alert_' + f + '">نمایش اطلاعیه: ' + c + ' </p>';                            editor.insertContent(theResponse), b.close();                        }}                    /*, {                        text: 'Close',                        onclick: 'close'                    }*/]            });        }    });    editor.addMenuItem    (        'Hamafza_keyword',        {            text: 'فهرست صفحات',            onclick: function()            {                editor.windowManager.open                ({                    title: 'پودمان - فهرست صفحات',                    url: Baseurl + 'editor/modals/pages-list',                    width: 600,                    height: 400,                    buttons:                    [                        {                            style: 'background-color: #6391C5; color: white;',                            text: "Insert", onclick: function()                            {                                var b = editor.windowManager.getWindows()[0];                                var e = $(b.getContentWindow().document);                                var value_types = e.find('#types').val();                                var value_keywords = e.find('#keywords').val() + '';                                var value_admins = e.find('#admins').val();                                var value_count = e.find('[name="count"]:checked').val();                                var value_count_num = e.find('#count_num').val();                                var value_all_links = +e.find('#all_links').is(':checked');                                var value_layout = e.find('[name="layout"]:checked').val();                                var value_arrange = e.find('[name="arrange"]:checked').val();                                var value_order = e.find('[name="order"]:checked').val();                                var value_contents = []; for (var i = 0; i < e.find('[id^=contents_]').length; i++) { value_contents.push(+ e.find('#contents_' + i).is(':checked')); } value_contents = value_contents.join(',');                                var value_animates = []; for (var i = 0; i < e.find('[id^=animates_]').length; i++) { value_animates.push(+ e.find('#animates_' + i).is(':checked')); } value_animates = value_animates.join(',');                                var value_keywords_and_or = e.find('[name="keywords_and_or"]:checked').val();                                var errors = [];                                if ('' == value_types) { errors.push('نوع موضوع را مشخص نمائید.'); }                                if (undefined == value_count)                                {                                    errors.push('تعداد را مشخص نمائید.');                                } else if (2 == value_count)                                {                                    if (isNaN(parseInt(value_count_num))) { errors.push('تعداد صفحات را مشخص نمائید.'); }                                }                                if (value_all_links && (3 == value_layout || 4 == value_layout) && 0 != value_count_num % value_layout)                                {                                    errors.push('تعداد صفحات باید مضربی از ' + value_layout + ' باشد.');                                }                                if (errors.length)                                {                                    messageModal('fail', 'خطا', errors);                                    return;                                }                                var s = '_';                                var r =                                '<p class="show-pages-list-in-page">SPLIP_' +                                value_types + s +                                value_keywords.replace(/exist_in/g, '') + s +                                value_admins + s +                                value_count + s +                                value_count_num + s +                                value_all_links + s +                                value_layout + s +                                value_arrange + s +                                value_order + s +                                value_contents + s +                                value_animates + s +                                value_keywords_and_or +                                '_SPLIP;</p>';                                editor.insertContent(r), b.close();                            }                        }/*,                        {                            text: 'Close',                            onclick: 'close'                        }*/                    ]                });            }        }    );    editor.addMenuItem('Hamafza_asubject', {text: " نوع صفحه",        onclick: function() {            editor.windowManager.open({                title: ' نوع صفحه',                url: 'selectasubject.php',                width: 500,                height: 190,                buttons: [                    {text: "Insert", onclick: function() {                            var b = editor.windowManager.getWindows()[0];                            var Tag = b.getContentWindow().document.getElementById("Retval").value;                            if (Tag == '')                                alert("نوع موضوعی انتخاب نشده است"), b.close();                            var Tedad = b.getContentWindow().document.getElementById("TedadTekrar").value;                            if (Tedad == '')                                Tedad = '5';                            var ShowType = b.getContentWindow().document.getElementById("ShowType").value;                            var Code = Tag + '_' + Tedad + '_' + ShowType;                            var theResponse = '<span class="ShowAsubInPage">نوع موضوع {' + Code + '}</p>';                            editor.insertContent(theResponse), b.close()                        }}                    , {                        text: 'Close',                        onclick: 'close'                    }]            });        }    });    editor.addMenuItem('Hamafza_data', {text: " داده",        onclick: function() {            editor.windowManager.open({                title: ' داده ',                url: Baseurl + 'editor/modals/sanat',                width: 500,                height: 150,                buttons: [                    {text: "Insert", onclick: function() {                            var b = editor.windowManager.getWindows()[0];                            var table = b.getContentWindow().document.getElementById("table").value;                            var year = b.getContentWindow().document.getElementById("year").value;                            var province = b.getContentWindow().document.getElementById("province").value;                            var code = b.getContentWindow().document.getElementById("code").value;                            var program = b.getContentWindow().document.getElementById("program").value;                            if (table == 11 || table == 12 || table == 13 || table == 14 || table == 15 || table == 17 || table == 18)                                var theResponse = '<p class="tables">table_' + table + '-' + year + '-' + province + '-00</p>';                            else if (table == 16)                                var theResponse = '<p class="tables">table_' + table + '-0-' + province + '-00</p>';                            else if (table == 9 || table == 10)                                var theResponse = '<p class="tables">table_' + table + '-' + program + '-0-00</p>';                            else                                var theResponse = '<p class="tables">table_' + table + '-' + year + '-' + province + '-' + code + '</p>';                            editor.insertContent(theResponse), b.close()                        }}                    , {                        text: 'Close',                        onclick: 'close'                    }]            });        }    });});